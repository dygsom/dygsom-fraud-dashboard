# ğŸ—ï¸ Azure Architecture - DYGSOM Fraud Dashboard

> **Nota**: Instala la extensiÃ³n de Mermaid en tu IDE para visualizar el diagrama de arquitectura.

## ğŸ¯ Arquitectura Recomendada

```mermaid
graph TD
    %% External Users
    Users[ğŸ‘¥ Usuarios<br/>Admins DYGSOM] --> CDN[ğŸŒ Azure Front Door<br/>CDN + WAF]
    
    %% Frontend Layer
    CDN --> WebApp[ğŸ–¥ï¸ Azure App Service<br/>Next.js Dashboard<br/>B1 Plan]
    
    %% API Layer  
    WebApp -->|HTTPS API Calls| BackendAPI[ğŸ”§ Backend API<br/>FastAPI/Node.js<br/>Separate Deployment]
    
    %% Storage & Data
    BackendAPI --> Database[ğŸ—„ï¸ Database<br/>PostgreSQL/MongoDB]
    
    %% Monitoring & Security
    WebApp --> AppInsights[ğŸ“Š Application Insights<br/>Logging & Monitoring]
    WebApp --> KeyVault[ğŸ” Key Vault<br/>API Keys & Secrets]
    
    %% Supporting Services
    AppInsights --> LogAnalytics[ğŸ“‹ Log Analytics<br/>Centralized Logging]
    
    %% Styling
    classDef frontend fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef backend fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef data fill:#fff8e1,stroke:#ff6f00,stroke-width:2px
    classDef monitoring fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef security fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    
    class Users,CDN,WebApp frontend
    class BackendAPI backend  
    class Database data
    class AppInsights,LogAnalytics monitoring
    class KeyVault security
```

## ğŸ“Š Flujo de Datos

### 1. **AutenticaciÃ³n y Acceso**
- Los usuarios acceden al dashboard a travÃ©s de Azure Front Door (CDN + WAF)
- Front Door distribuye el contenido estÃ¡tico y protege contra ataques
- Azure App Service sirve la aplicaciÃ³n Next.js

### 2. **ComunicaciÃ³n Frontend-Backend**
- El dashboard Next.js hace llamadas HTTPS al backend API
- Variables de entorno configuran la URL del backend (`NEXT_PUBLIC_API_BASE_URL`)
- Tokens JWT manejan la autenticaciÃ³n entre servicios

### 3. **Monitoreo y Logging**
- Application Insights captura mÃ©tricas y errores del frontend
- Log Analytics centraliza todos los logs del sistema
- Key Vault almacena secretos y claves API de forma segura

### 4. **Escalabilidad y Performance**
- CDN cachea contenido estÃ¡tico para mayor velocidad
- App Service se auto-escala segÃºn demanda
- Base de datos optimizada para consultas de fraud detection

---

## âš¡ ConfiguraciÃ³n de Servicios

### **Frontend (Next.js Dashboard)**
- **Servicio**: Azure App Service (Web App)
- **Runtime**: Node.js 18 LTS
- **Puerto**: 3001 (configurado en Dockerfile)
- **Variables de Entorno**: 15+ variables configuradas

### **Dependencias Externas**
- **Backend API**: Llamadas HTTP al servicio de fraud detection
- **Application Insights**: TelemetrÃ­a y monitoreo de aplicaciones
- **Key Vault**: GestiÃ³n segura de secretos y configuraciones

Esta arquitectura estÃ¡ optimizada para un **MVP con costos mÃ­nimos** mientras mantiene escalabilidad para crecimiento futuro.